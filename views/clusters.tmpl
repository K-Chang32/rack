{{ define "title" }} Convox {{ end }}

{{ define "body" }}

	<ol class="breadcrumb">
		<button class="btn btn-success btn-xs trackable" id="create-cluster" data-toggle="modal" data-target="#cluster-create">Create Cluster</button>
		<li class="active">Clusters</li>
	</ol>

	<table class="table table-striped table-bordered">
		<thead>
			<tr>
				<th class="expand">Name</th>
				<th>Status</th>
				<th>CPU</th>
				<th>RAM</th>
				<th>Disk</th>
			</tr>
		</thead>
		<tbody>
			{{ range . }}
				<tr>
					<td><a href="/clusters/{{ .Name }}">{{ .Name }}</a></td>
					<td>{{ .Status }}</td>
					<td>{{ meter "cpu"    0 100 }}</td>
					<td>{{ meter "memory" 0 100 }}</td>
					<td>{{ meter "disk"   0 100 }}</td>
				</tr>
			{{ end }}
		</tbody>
	</table>

	<div class="modal fade" id="cluster-create" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<form method="post" action="/clusters" class="form-horizontal">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">Create Cluster</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label for="cluster-name" class="col-sm-3 control-label">Cluster Name</label>
							<div class="col-sm-8">
								<input name="name" type="text" class="form-control" id="cluster-name">
							</div>
						</div>
						<div class="form-group">
							<label for="cluster-repo" class="col-sm-3 control-label">Instance Size</label>
							<div class="col-sm-8">
							  <select name="size" class="form-control" id="cluster-repo">
									<option>t2.micro</option>
									<option>t2.small</option>
									<option>t2.medium</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label for="cluster-repo" class="col-sm-3 control-label">Instance Count</label>
							<div class="col-sm-8">
								<input name="count" type="text" class="form-control" id="cluster-repo" value="1">
							</div>
						</div>
						<div class="form-group">
							<label for="cluster-repo" class="col-sm-3 control-label">SSH Key</label>
							<div class="col-sm-8">
								<input name="key" type="text" class="form-control" id="cluster-repo" value="">
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
						<input type="submit" class="btn btn-primary" value="Create Cluster">
					</div>
				</form>
			</div>
		</div>
	</div>
	<script>
                mixpanel.track('page-viewed', {
                        'page name' : 'clusters',
                        'url' : window.location.pathname
                });
	</script>
{{ end }}
